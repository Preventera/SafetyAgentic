# Code à ajouter TEMPORAIREMENT en haut de app_with_memory.py
# (après les imports)

import sys
import os
sys.path.append("src")

# Force la sidebar mémoire
try:
    from safegraph_memory_integration import integrate_memory_into_safegraph
    
    # FORCER L'AFFICHAGE (à ajouter dans la fonction main)
    st.sidebar.markdown("---")
    st.sidebar.subheader("🧠 Test Mémoire IA")
    
    # Test bouton
    if st.sidebar.button("🧪 Test Mémoire"):
        st.sidebar.success("✅ Mémoire IA Active!")
        
        # Stats mémoire
        from memory.wrapper import get_memory
        memory = get_memory()
        stats = memory.get_memory_stats()
        st.sidebar.write(f"Total mémoires: {stats.get('total_memories', 0)}")
    
    # Input entreprise
    company = st.sidebar.text_input("🏢 Nom Entreprise", placeholder="Test ABC")
    
    if company:
        st.sidebar.info(f"Entreprise: {company}")
        
except Exception as e:
    st.sidebar.error(f"❌ Erreur mémoire: {e}")

